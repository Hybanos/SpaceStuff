#!/usr/bin/bash

build_tool=""

if [ -f "/usr/bin/ninja" ]; then
    build_tool="-G Ninja"
fi

if [ ! -d "./build" ]; then
    cmake -B build $build_tool || exit 
fi
cmake --build build --config Release || exit

# ISS
# curl "https://celestrak.org/NORAD/elements/gp.php?CATNR=25544&FORMAT=tle" > haha.tle
# ALL
# curl "https://celestrak.org/norad/elements/gp.php?group=active&format=tle" > haha.tle

build/tests/tests || exit
build/src/main
